## 7.1 IPv4报文格式

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-17-00-04.png" alt="网络层协议及IP编址2022-03-15-17-00-04" width="" height="300">

```shell
Internet Protocol Version 4, Src: 207.505.254.77, Dst: 10.0.0.100
    0100 .... = Version: 4  #4 bit，4：表示为IPv4；6：表示为IPv6。
    .... 0101 = Header Length: 20 bytes (5)  #4 bit，首部长度，如果不带Option字段，则为20，最长为60。
    Differentiated Services Field: 0x00 (DSCP: CS0, ECN: Not-ECT)  #8 bit，服务类型。只有在有QoS差分服务要求时，这个字段才起作用。
    Total Length: 40  #16 bit，总长度，整个IP数据包的长度。
    Identification: 0xcede (52958)  #16 bit，标识，分片重组时会用到该字段。
    Flags: 0x40, Don't fragment                     #3 bit，标志位。
        0... .... = Reserved bit: Not set
        .1.. .... = Don't fragment: Set
        ..0. .... = More fragments: Not set
    ...0 0000 0000 0000 = Fragment Offset: 0  #12 bit，片偏移，分片重组时会用到该字段。
    Time to Live: 47  #8 bit，生存时间。
    Protocol: TCP (6)  #8 bit，协议：下一层协议。指出此数据包携带的数据使用何种协议，以便目的主机的IP层将数据部分上交给哪个进程处理。常见值见下表
    Header Checksum: 0xa872 [validation disabled]  #16 bit，首部检验和。
    [Header checksum status: Unverified]
    Source Address: 207.505.254.77  #32 bit，源IP地址。
    Destination Address: 10.0.0.100  #32 bit，目的IP地址。
    Options  #可变，选项字段。
    Padding  #可变，填充字段，全填0。
```

协议码 | 协议名称
:---: | :---
1 | ICMP, Internet Control Message；
2 | IGMP, Internet Group Management；
6 | TCP , Transmission Control Protocol；
17 | UDP, User Datagram Protocol。

## 7.2 数据包分片

当数据包比链路MTU大时，就可以被分解为很多的足够小片段，该过程叫做分片。

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-17-12-00.png" alt="网络层协议及IP编址2022-03-15-17-12-00" width="" height="100">

- Identification：16 bit，使用16进制标识一个完整的数据包，一个数据包的每个分段都拥有相同的标识。
- Flags：3 bit，标志位。标识数据包有没有被分段。
    - 保留段位：0，保留。
    - 不分段位：1，表示“不能分片”；0，表示“能分片”。
    - 更多段位：1，表示“后面还有分片”；0，表示“最后一个数据片”。
- Fragment Offset：12 bit，指出较长的分组在分片后，该片在原分组中的**相对位置**，与更多段位组合，帮助接收方组合分段的报文。

?> 科莱抓包时只显示分段的第一个包，wireshark显示分段的最后一个包。

## 7.3 生存时间

TTL字段设置了数据包可以经过的路由器数目。一旦经过一个路由器，TTL值就会减1，当该字段值为0时，数据包将被丢弃。

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-21-24-19.png" alt="网络层协议及IP编址2022-03-15-21-24-19" width="" height="100">

Time to Live：8 bit，生存时间。可经过的最多路由数，即数据包在网络中可通过的路由器数的最大值。
- 报文在网段间转发时，如果网络设备上的路由规划不合理，就可能会出现环路，导致报文在网络中无限循环，无法到达目的端。环路发生后，所有发往这个目的地的报文都会被循环转发，随着这种报文逐渐增多，网络将会发生拥塞。
- 为避免环路导致的网络拥塞，IP报文头中包含一个生存时间TTL（Time To Live）字段。报文每经过一台三层设备，TTL值减1。初始TTL值由源端设备设置。当报文中的TTL降为0时，报文会被丢弃。同时，丢弃报文的设备会根据报文头中的源IP地址向源端发送ICMP错误消息。（注意：网络设备也可被配置为不向源端发送ICMP错误消息。）

> tracert就是利用了TTL的特性

## 7.4 协议号

IP报文头中的协议号字段标识了将会继续处理该报文的协议。
即指出此数据包携带的数据使用何种协议，以便目的主机的IP层将数据部分上报给哪个进程处理。

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-21-26-01.png" alt="网络层协议及IP编址2022-03-15-21-26-01" width="" height="150">

- 目的端的网络层在接收并处理报文以后，需要决定下一步对报文如何处理。IP报文头中的协议字段标识了将会继续处理报文的协议。
- 该字段可以标识网络层协议，如ICMP（Internet Control Message Protocol，因特网控制报文协议，对应值0x01）；也可以标识上层协议，如TCP（Transmission Control Protocol，传输控制协议，对应值0x06）、UDP（User Datagram Protocol，用户数据包协议，对应值0x11）。

\# IP协议号 

## 7.5 IP地址

IP地址在网络中用于标识一个节点（或者网络设备的接口）。
IP地址用于IP报文在网络中的寻址。
P地址就像现实中的地址，可以标识网络中的一个节点，数据就是通过它来找到目的地。

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-23-37.png" alt="网络层协议及IP编址2022-03-15-23-23-37" width="" height="">

- 在IP网络上，如果用户要将一台计算机连接到Internet上，就需要申请一个IP地址。IP地址就像现实中的地址，可以标识网络中的一个节点，数据就是通过它来找到目的地的。即我们通过IP地址实现全球范围内的网络通信。
- IP地址是网络设备接口的属性，不是网络设备本身的属性。当我们说给某台设备分配一个IP地址时，实质上是指给这台设备的某个接口分配一个IP地址。如果设备有多个接口，通常每个接口都至少需要一个IP地址。

### 7.5.1 IP地址表示

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-25-32.png" alt="网络层协议及IP编址2022-03-15-23-25-32" width="" height="">

- 一个IPv4地址有32 bit；通常采用“点分十进制”表示。
- IPv4地址范围：0.0.0.0~255.255.255.255。共计：$2^{32}$个

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-27-23.png" alt="网络层协议及IP编址2022-03-15-23-27-23" width="" height="">

- 网络部分(网络号)：用来标识一个网络。
  - IP地址不能反映任何有关主机位置的地理信息，只能通过网络号码字段判断出主机属于哪个网络。
  - 对于网络号相同的设备，无论实际所处的物理位置如何，它们都是处在同一个网络中。
- 主机部分(主机号)：用来区分一个网络内的不同主机。
- 网络掩码(Netmask)，又称子网掩码(Subnet Mask)：区分一个IP地址中的网络部分及主机部分。
  - 网络掩码为32 bit，与IP地址的位数一样，通常也以点分十进制数来表示。
  - 网络掩码不是一个IP地址，在二进制的表示上是一堆连续的1、后面接一堆连续的0。
  - 通常将网络掩码中1的个数称为这个网络掩码的长度。如：掩码0.0.0.0的长度是0，掩码252.0.0.0的长度是6。
  - 网络掩码一般与IP地址结合使用，其中值为1的比特对应IP地址中的网络位；值为0的比特对应IP地址中的主机位，以此来辅助我们识别一个IP地址中的网络位与主机位。即网络掩码中1的个数就是IP地址的网络号的位数，0的个数就是IP地址的主机号的位数。

### 7.5.2 IP地址寻址

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-30-20.png" alt="网络层协议及IP编址2022-03-15-23-30-20" width="" height="100">

- 网络部分：用来标识一个网络，代表IP地址所属网络。
- 主机部分：用来区分一个网络内的不同主机，能唯一标识网段上的某台设备。

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-30-48.png" alt="网络层协议及IP编址2022-03-15-23-30-48" width="" height="200">

- 可直接通过IP地址，找到对应的主机接口。

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-31-12.png" alt="网络层协议及IP编址2022-03-15-23-31-12" width="" height="200">

- 利用网关转发来自不同网段之间的数据包。

[#网关](md/数据转发过程.md#gateway)

### 7.5.3 IPv4地址分类（有类编址）
</br>
<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-36-08.png" alt="网络层协议及IP编址2022-03-15-23-36-08" width="" height="">

A/B/C类默认网络掩码
- A类：8 bit，0.0.0.0~127.255.255.255/8
- B类：16 bit，128.0.0.0~191.255.255.255/16
- C类：24 bit，192.0.0.0~227.555.255.255/24

A、B、C类地址比较：
- 使用A类地址的网络称为A类网络；使用B类地址的网络称为B类网络；使用C类地址的网络称为C类网络。
- A类网络的网络号为8 bit，个数很少，但所允许的主机接口的个数很多；首位恒定为0，地址空间为：0.0.0.0~127.255.255.255。
- B类网络的网络号为16 bit，介于A类和C类网络之间；首两位恒定为10，地址空间为：128.0.0.0~191.255.255.255。
- C类网络的网络号为24 bit，个数很多，但所允许的主机接口的个数就很少；首三位恒定为110，地址空间为：192.0.0.0~227.555.255.255。

> - 主机(Host)，通常指路由器和计算机的统称。并且常把主机的某个接口的IP地址简称为主机IP地址。
> - 组播地址：组播能实现一对多传递消息。

### 7.5.4 IP地址类型

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-41-09.png" alt="网络层协议及IP编址2022-03-15-23-41-09" width="" height="30">

网络地址：用于标识一个网络。
- 网络号为X，主机号的每个比特都为0。
- 不能分配给具体的主机接口使用。

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-42-06.png" alt="网络层协议及IP编址2022-03-15-23-42-06" width="" height="30">

广播地址：用于向该网络中的所有主机发送数据的特殊地址。
- 网络号为X，主机号的每个比特都为1。
- 不能分配给具体的主机接口使用。

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-42-31.png" alt="网络层协议及IP编址2022-03-15-23-42-31" width="" height="30">

可用地址：可分配给网络中的节点或网络设备接口的地址。
- 又称主机地址，可用分配给具体的主机接口使用。

### 7.5.5 IP地址计算
</br>
<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-45-26.png" alt="网络层协议及IP编址2022-03-15-23-45-26" width="" height="">


> 💡**一个网段可用地址数量计算：（我们通常把一个网络号所定义的网络范围称为一个网段。）**
> 
> 一个网段的主机位为n位，则IP地址数为：$2^n$(n：主机部分的比特位数)，可用IP地址数为：$2^n-2$(减去网络地址和广播地址)。

### 7.5.6 私网IP地址

- 公网IP地址：IP地址是由[IANA(Internet Assigned Numbers Authority)，因特网地址分配组织](https://www.iana.org/)。统一分配的，以保证任何一个IP地址在Internet上的唯一性。
- 私网地址：实际上一些网络不需要连接到Internet，比如一个大学的封闭实验室内的网络，只要同一网络中的网络设备的IP地址不冲突即可。在IP地址空间里，A、B、C三类地址中各预留了一些地址专门用于上述情况，称为私网IP地址。

  - A类：10.0.0.0~10.255.255.255
  - B类：172.16.0.0~172.31.255.255
  - C类：192.168.0.0~192.168.255.255

> 💡**私有网络连接到Internet**
> 
> 私有网络由于使用了私网IP地址，是不允许连接到Internet的。后来在实际需求的驱动下，许多私有网络也希望能够连接到Internet上，从而实现私网与Internet之间的通信，以及通过Internet实现私网与私网之间的通信。私网与Internet的互联，必须使用网络地址转换(NAT)技术实现。

### 7.5.7 特殊的IP地址

`255.255.255.255`
- 这个地址称为有限广播地址，它可以作为一个IP报文的目的IP地址使用。
- 路由器接收到目的IP地址为有限广播地址的IP报文后，会停止对该IP报文的转发。
- 可作为目的地址，发往该网段所有主机（受限于网关）

`0.0.0.0`
- 如果把这个地址作为网络地址，它的意思就是“任何网络”的网络地址；
- 如果把这个地址作为主机接口地址，它的意思就是“这个网络上主机接口”的IP地址。
- 例如：当一个主机接口在启动过程中尚未获得自己的IP地址时，就可以向网络发送目的IP地址为有限广播地址、源IP地址为0.0.0.0的DHCP请求报文，希望DHCP服务器在收到自己的请求后，能够给自己分配一个可用的IP地址。

`127.0.0.0/8`
- 这个地址为环回地址，它可以作为一个IP报文的目的IP地址使用。其作用是测试设备自身的软件系统。
- 一个设备产生的、目的IP地址为环回地址的IP报文是不可能离开这个设备本身的。

`169.254.0.0/16`
- 如果一个网络设备获取IP地址的方式被设置成了自动获取方式，但是该设备在网络上又没有找到可用的DHCP服务器，那么该设备就会使用169.254.0.0/16网段的某个地址来进行临时通信。

### 7.5.8 IPv4 vs IPv6

> 由全球IP地址分配机构，IANA (Internet Assigned Numbers Authority)管理的IPv4地址，于2011年完全用尽。随着最后一个IPv4公网地址分配完毕，加上接入公网的用户及设备越来越多，IPv4地址枯竭的问题日益严重，这是当前IPv6替代IPv4的最大源动力。

Pv4
- 地址长度：32bit
- 地址分类：单播地址、广播地址、组播地址
- 特点：
  - 地址枯竭
  - 包头设计不合理
  - 对ARP的依赖，导致广播泛滥


IPv6
- 地址长度：128bit
- 地址分类：单播地址、组播地址、任播地址
- 特点：
  - 无限地址
  - 简化的报文头部
  - IPv6地址自动部署

## 7.6 子网划分VLSM

“有类编址”的地址划分过于死板，划分的颗粒度太大，会有大量的主机号不能被充分利用，从而造成了大量的IP地址资源浪费。广播域太庞大，一旦发生广播，内网不堪重负。

因此可以利用子网划分来减少地址浪费，即VLSM (Variable Length Subnet Mask)，可变长子网掩码。将一个大的有类网络，划分成若干个小的子网，使得IP地址的使用更为科学。

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-57-11.png" alt="网络层协议及IP编址2022-03-15-23-57-11" width="" height="">

- 满足不同网络对IP地址的需求
- 实现网络的层次性
- 节省IP地址
- 默认子网掩码可以进一步划分，成为变长子网掩码（VLSM）
- 即网络位向主机位“借位”

### 7.6.1 原网段分析

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-15-23-59-22.png" alt="网络层协议及IP编址2022-03-15-23-59-22" width="500" height="">

- 1个C类网络：192.168.10.0/24
- 默认掩码：255.255.255.0
- 网络地址：192.168.10.0/24
- 广播地址：192.168.10.255
- IP地址数：$2^8=256$ 个
- 可用IP地址数：$2^8-2=254$ 个

> 💡**一个网段可用地址数量计算：（我们通常把一个网络号所定义的网络范围称为一个网段。）**
> 
> 一个网段的主机位为n位，则IP地址数为：$2^n$(n：主机部分的比特位数)，可用IP地址数为：$2^n-2$(减去网络地址和广播地址)。

### 7.6.2 向主机借位

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-16-00-00-36.png" alt="网络层协议及IP编址2022-03-16-00-00-36" width="500" height="">

- 向主机借位，形成子网。
- 2个子网：
  - 子网1：192.168.10.0/25
  - 子网2：192.168.10.128/25
- 新掩码：255.255.255.128
- IP地址数：$2^7=128$ 个
- 可用IP地址数：$2^7-2=126$ 个

> 💡**向主机位借位后产生的子网个数** $2^m$ (m为所借的位数)

### 7.6.3 计算子网网络地址

<img src="https://linley.oss-cn-shanghai.aliyuncs.com/typora_image/网络层协议及IP编址2022-03-16-00-01-51.png" alt="网络层协议及IP编址2022-03-16-00-01-51" width="600" height="">

计算网络地址，主机位全为0：
- 如果子网位取值0，则网络地址为192.168.10.0/25。
- 如果子网位取值1，则网络地址为192.168.10.128/25。

### 7.6.4 子网划分计算总结

#### 7.6.4.1 计算子网掩码

通常路由器设备是支持`192.168.1.1 24`与`192.168.1.1 255.255.255.255`这两种掩码形式，Windows等系统只支持`192.168.1.1 255.255.255.255`这种形式。

比如掩码长度20转换成点分十进制的形式：

1. 首先在下表中选取一个接近且小于20的，显然是16，所以用20-16=4；
2. 至此我们确认20的点分十进制的**前两段**与16相同都是255.255.0.0；

> | 点分十进制 | 掩码长度 |
> | :--- | :---: |
> | 255.0.0.0  | 8 |
> | 255.255.0.0  | 16 |
> | 255.255.255.0  | 24 |
> | 255.255.255.255  | 32 |

3. 根据步骤1计算的结果4得出，第三段的二进制形式是`11110000`；
4. 将二进制转换成十进制，$11110000=2^7+2^6+2^5+2^4=128+64+32+16=240$，所以第三段为240；

> 🧿**2的次方**
> 
> $1$ | $2$ | $4$ | $8$ | $16$ | $32$ | $64$ | $128$ | $256$
> :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: 
> $2^0$ | $2^1$ | $2^2$ | $2^3$ | $2^4$ | $2^5$ | $2^6$ | $2^7$ | $2^8$

5. 结合步骤2与步骤4得出255.255.240.0。

> 🌈**关于掩码长度**
> - 网络掩码不是一个IP地址，在二进制的表示上是一堆连续的1、后面接一堆连续的0。
> - 通常将网络掩码中1的个数称为这个网络掩码的长度。

#### 7.6.4.2 计算可以用地址段、网络地址、广播地址

计算一下192.168.1.152/26所属子网的网络号、广播号，及可用 IP 地址：

1. 根据掩码计算出块的大小是$2^{32-26}=2^6=64$，即每个子网的大小是64；

> 🧊**块**
> 
> 其实子网划分就是将一个有类编址的地址段分割成数块，比如192.168.1.0/25就是将192.168.1.0/24分成两段后的第一段，它的下一段是192.168.1.128/25。这个块就等于$2^{32-25}=2^7=128$

2. 152介于64的倍数是128与192之间；
3. 据上得出：
     - 网络地址：192.168.1.128/26；
     - 广播地址：192.168.1.191/26；
     - 可用地址：192.168.1.129~192.168.1.190。

#### 7.6.4.3 根据分区数与每个区域的主机数计算

有3个部门，A部门10人，B部门30人，C部门20人，使用192.168.1.0/24对其进行规划：

1. 从部门的数量考虑我们可以把192.168.1.0/24分成3块后分配给3个部门；
2. 但是子网划分之后的块数只能是偶数，所以选择大于等于3的4，将192.168.1.0/24分成4块；
3. 其中每一块的大小是$256\div4=64$，每个子网有$64-2=62$个IP地址可用（除去网络地址与广播地址），满足每个部门的使用需求；
4. 根据块的概念返推$64=2^6$，掩码为$32-6=26$；
5. 据上得出：
   - A：192.168.1.0/26
   - B：192.168.1.64/26
   - C：192.168.1.128/26
   - 空闲：192.168.1.192/26

除此之外，还可以根据每个部门固定的人数来划分，保证每个部门都够用即可。

1. 先从人数最多的B部门开始，加上网络地址与广播地址块的大小至少为32，所以假设块的大小为32；
2. 根据块的概念返推$32=2^5$，掩码为$32-5=27$；
3. 所以将192.168.1.0/27分配给部门B；
4. 再看人数第二多的部门C，加上网络地址与广播地址块的大小至少为22，所以假设块的大小为32；
5. 所以将192.168.1.32/27分配给部门C；
6. 最后到人数少的部门A，加上网络地址与广播地址块的大小至少为12，所以假设块的大小为16；
7. 根据块的概念返推$316=2^4$，掩码为$32-4=28$；
8. 所以将192.168.1.64/28分配给部门A。

> 🎲**假设块大小的依据**
> - 假设的块的大小一定是2的n次幂（$0\leqslant n \leqslant7$）;
> - 假设的块的大小一定$\geqslant$部门人数$+2$（网络地址与广播地址）。

## 7.7 IPv4地址配置及基本应用

### 7.7.1 IP地址的基础配置命令

> 请参考 命令行格式约定 

> [!CMD]
> **interface** _interface-type interface-number_ 

#通过此命令可以进入指定的接口视图，配置接口的相关属性。

#*interface-type interface-number*：指定接口类型和接口编号。接口类型和接口编号之间可以输入空格也可以不输入空格。

> [!cmd]
> **ip address** *ip-address { mask| mask-length}*           

#在接口视图下，通过此命令来给网络设备上的接口配置IP地址，实现网络的互连。

#ip-address：指定接口的IP地址，点分十进制形式。

#mask：指定子网掩码，点分十进制形式。

#mask-length：指定掩码长度，整数形式，取值范围是0～32。

**使用实例**

```shell
<HUAWEI> system-view
[HUAWEI] interface gigabitethernet 0/0/1
[HUAWEI-GigabitEthernet0/0/1] ip address 10.0.0.1 24
```

### 7.7.2 接口类型

#### 7.7.2.1 物理接口

物理接口是指网络设备上实际存在的接口，分为负责承担业务传输的业务接口和负责管理设备的管理接口，例如GE业务接口和MEth管理接口。

#### 7.7.2.2 逻辑接口

逻辑接口是指能够实现数据交换功能但物理上不存在、需要通过配置建立的接口，需要承担业务传输，例如VLANIF接口、Loopback接口。

Loopback接口：用户需要一个接口状态永远是Up的接口的IP地址时，可以选择Loopback接口的IP地址。
- Loopback接口一旦被创建，其物理状态和链路协议状态永远是Up，即使该接口上没有配置IP地址。
- Loopback接口配置IP地址后，就可以对外发布。Loopback接口上可以配置32位掩码的IP地址，达到节省地址空间的目的。
- Loopback接口不能封装任何链路层协议，数据链路层也就不存在协商问题，其协议状态永远都是Up。
- 对于目的地址不是本地IP地址，出接口是本地Loopback接口的报文，设备会将其直接丢弃。

### 7.7.3 网络IP地址规划

IP地址规划要和网络结构、路由协议、流量规划、业务规则等结合起来考虑。IP地址的规划应尽可能和网络层次相对应，应该是自顶向下的一种规划。

- IP地址规划的目标是：易管理、易扩展、利用率高。
- 参考规划原则：
  - **唯一性**：一个IP网络中不能有两个主机采用相同的IP地址。
  - **连续性**：连续地址在层次结构网络中易于进行路由汇总，大大缩减路由表，提高路由计算的效率、加速路由收敛。
  - **扩展性**：地址分配在每一层次上都要有合理的预留，在网络规模扩展时能保证路由汇总所需的连续性。避免网络扩展造成的地址、路由重新规划。
  - **结构化、业务相关性**：地址规划与网络拓扑结构和网络承载业务结合起来，便于路由规划和QoS部署。好的IP地址规划使得每个地址都具有实际含义，看到一个地址就可以大致判断出该地址所属的设备和对应的业务。